# Redis简介

#### 1 简单介绍一下Redis

Redis时一个用C语言开发的数据库，与传统的数据库不同，redis的数据存储在内存中，所以读写数据特别快，所以可以应用在一下几个方面：

1. 缓存：通过Redis来做分布式锁是一种比较常见的方式。
2. 限流：一般是通过Redis + Lua脚本来实现限流。
3. 分布式锁，甚至消息队列

#### 2 为什么要用Redis/为什么要用缓存？

使用缓存主要是为了提升用户体验以及能应对更多的用户。

<img src="https://raw.githubusercontent.com/zouquchen/Images/main/imgs/%E4%BD%BF%E7%94%A8%E7%BC%93%E5%AD%98%E4%B9%8B%E5%90%8E.05f09010.png" alt="img" style="zoom: 80%;" />

主要从“高性能”和“高并发”两点看待这个问题：

**高性能**：

假如用户第一次访问数据库的某些数据的话，这个过程是比较慢的，毕竟是从硬盘读取。但是，如果用户访问的数据属于高频数据并且不会经常改变的话，那么我们就可以很放心地将该用户访问的数据存在缓存中。当用户下次再访问这些数据的时候就可以直接从缓存中获取，从缓存中读取的速度十分快。（但要保证数据库和缓存中的数据一致性）。

**高并发**：

一般MySQL这类数据库的QPS大概为1W左右（4核8g），但是使用Redis缓存之后容易达到10W，甚至30w。

> QPS，Quey Per Second，服务器每秒可执行的查询次数。

#### 3 缓存数据的处理流程是怎么样的？

![正常缓存处理流程](https://raw.githubusercontent.com/zouquchen/Images/main/imgs/cache-process.c27b9c06.png)

1. 如果用户请求的数据再缓存中就直接返回。
2. 缓存中不存在的话就看数据库中是否存在。
3. 数据库中存在的话就更新缓存中的数据。
4. 数据库中不存在的话就返回空数据。