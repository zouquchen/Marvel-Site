---
title: 系统设计
date: 2022-09-16 11:31:04
permalink: /pages/1b5f43/
categories:
  - Java
  - 常见面试题
tags:
  - 
author: 
  name: Marvel
  link: https://github.com/zouquchen
---


# 系统设计

## 1. 如何设计一个系统？

网站设计不可能一蹴而就，都是根据业务需求逐渐演化而来。架构师所能做的就是根据已有的经验设计出尽可能完美的系统。

**设计前**

分析业务需求，制定方案，选择合适的技术栈。

**设计时**

需要考虑整个系统的高性能（并发能力）、可用性、伸缩性、扩展性、安全性。

- 高性能：响应时间块、并发量高、吞吐量大等等
  - 前端优化：浏览器访问优化、CDN 加速、反向代理
  - 应用服务器优化：缓存、异步、集群、代码优化
  - 存储性能优化：选择更好的服务器
- 高可用：可用时间、故障时间
  - 架构：分层，应用层 — 服务层 — 数据层
  - 应该层、服务层的可用：异步调用、服务降级、服务熔断、幂等性设计
  - 数据层的可用：数据备份、失效转移
  - 高可用发布：自动测试、自动发布、灰度发布
  - 运行监控：监控数据采集，出问题可以分析；监控管理，出问题报警、失效转移，自动降级等
- 伸缩性：集群里添加删减服务器，性能可以线性上升
  - 应用服务器集群负载均衡
  - 分布式缓存可以使用一致性 hash 算法
- 可扩展性：不改变已有系统添加新的功能
  - 消息队列
  - 分布式服务打造可复用的业务平台





工作流引擎：将视图文件编译成 Java 代码。开源项目：compile-flow、activiti